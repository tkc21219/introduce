"use strict";function Leagle(){this.$leagleForm=$(".js-leagle-form"),this.$leagleTxt=this.$leagleForm.find("input"),this.bind()}function Top(){this.$p1=$(".js-p1"),this.$p2=$(".js-p2"),this.$p3=$(".js-p3"),this.$pro=$(".js-openning-prologue"),this.$link=$(".js-openning-link"),this.bind()}function List(){this.$window=$(window),this.$header=$(".header"),this.$eachList=$(".js-list li"),this.bind()}function Detail(){this.init()}function Gallery(){this.init()}Leagle.prototype={bind:function(){this.$leagleForm.on("submit",this.changePage.bind(this))},changePage:function(){switch(this.val=this.$leagleTxt.val(),this.val){case"yoshinari takashi":case"Yoshinari Takashi":case"YOSHINARI TAKASHI":case"yoshinaritakashi":case"YoshinariTakashi":case"YOSHINARITAKASHI":case"takashi yoshinari":case"Takashi Yoshinari":case"TAKASHI YOSHINARI":case"takashiyoshinari":case"TakashiYoshinari":case"TAKASHIYOSHINARI":case"吉成敬":case"よしなりたかし":case"ヨシナリタカシ":case"吉成 敬":case"よしなり たかし":case"ヨシナリ タカシ":case"吉成　敬":case"よしなり　たかし":case"ヨシナリ　タカシ":window.location.href="/introduce/myprofile/openning/index.html";break;case"":break;default:window.location.href="https://www.google.co.jp/#q="+this.val}return!1}},Top.prototype={bind:function(){$(window).on("load",this.prologue.bind(this)),setTimeout(this.firstShow.bind(this),2e3),setTimeout(this.secondShow.bind(this),4500),setTimeout(this.hidePro.bind(this),8e3)},prologue:function(){this.$pro.contents().each(function(){3===this.nodeType&&$(this).replaceWith($(this).text().replace(/(\S)/g,"<span>$1</span>"))})},firstShow:function(){this.$p1.css({opacity:1});for(var i=0;i<=this.$p1.children().length-1;i++)this.$p1.children("span:eq("+i+")").delay(100*i).fadeIn(300)},secondShow:function(){this.$p2.css({opacity:1});for(var i=0;i<=this.$p2.children().length-1;i++)this.$p2.children("span:eq("+i+")").delay(100*i).fadeIn(300)},hidePro:function(){this.$pro.fadeOut(1e3),this.showLink()},showLink:function(){this.$p3.css({display:"block"}).animate({opacity:1},1500),this.animeLink()},animeLink:function(){var i=this;setInterval(function(){i.$p3.animate({marginTop:"-5px"},700,"swing").animate({marginTop:"5px"},400,"swing")},800)}},List.prototype={bind:function(){this.setSize(),this.hoverAction(),this.$window.on("resize",this.setSize.bind(this)),this.$window.on("load",this.showList.bind(this))},setSize:function(){this.$width=this.$window.width(),this.$height=this.$window.height(),this.$listHeight=this.$height/3,this.$header.css("height",this.$height+"px"),this.$eachList.css("height",this.$listHeight+"px")},showList:function(){this.$header.fadeIn(700);for(var i=0;i<this.$eachList.length;i++)this.$eachList.delay(100).fadeIn(),this.$eachList.eq(i).animate({opacity:1,top:0},1e3)},hoverAction:function(){var i=this;this.$eachList.on({mouseenter:function(){var t=i.$eachList.index(this);i.$eachList.eq(t).css("-webkit-filter","grayscale(0)"),i.$eachList.eq(t).find(".js-list-en").stop().fadeOut(600),i.$eachList.eq(t).find(".js-list-ja").stop().fadeIn(600)},mouseleave:function(){var t=i.$eachList.index(this);i.$eachList.eq(t).css("-webkit-filter","grayscale(100%)"),i.$eachList.eq(t).find(".js-list-en").stop().fadeIn(600),i.$eachList.eq(t).find(".js-list-ja").stop().fadeOut(600)}})}},Detail.prototype={init:function(){this.getParamater(),this.bindEvent()},getParamater:function(){this.$ul=$(".p-detailSlide__list"),this.$list=$(".p-detailSlide__list li"),this.$listlength=this.$list.length,this.$slideBtn=$(".p-detailSlide__btn"),this.$up=this.$slideBtn.find(".up"),this.$down=this.$slideBtn.find(".down"),this.data=""},bindEvent:function(){this.setPositionDownBtn(),$(window).on("resize",this.setPositionDownBtn.bind(this)),this.hoverSlide(),this.$up.on("click",this.slideUp.bind(this)),this.$down.on("click",this.slideDown.bind(this)),this.matchSlide(),this.getData()},setPositionDownBtn:function(){this.$height=$(window).height(),this.$listHeight=this.$list.height(),this.$downHeight=this.$down.height(),this.$down.css({top:this.$height-this.$downHeight+"px"})},hoverSlide:function(){this.$list.on({mouseenter:function(i){var t=$(i.currentTarget);t.find("img").css("-webkit-filter","grayscale(0)"),t.find(".js-list-en").stop().fadeOut(600),t.find(".js-list-ja").stop().fadeIn(600)},mouseleave:function(i){var t=$(i.currentTarget);t.find("img").css("-webkit-filter","grayscale(100%)"),t.find(".js-list-en").stop().fadeIn(600),t.find(".js-list-ja").stop().fadeOut(600)}})},slideUp:function(i){i.preventDefault(),this.$height=$(window).height(),this.$listHeight=this.$list.height();var t=this.$list.offset().top-$(window).scrollTop();t<0&&(Math.abs(t)>this.$listHeight?this.$ul.stop().animate({top:"+="+this.$listHeight+"px"}):this.$ul.stop().animate({top:"+="+Math.abs(t)+"px"}))},slideDown:function(i){i.preventDefault(),this.$height=$(window).height(),this.$listHeight=this.$list.height(),this.$listWholeH=this.$list.length*this.$listHeight;var t=this.$ul.offset().top-$(window).scrollTop(),s=Math.abs(t)+this.$height,e=this.$listWholeH-s;s<this.$listWholeH&&(e>this.$listHeight?this.$ul.stop().animate({top:"-="+this.$listHeight+"px"}):this.$ul.stop().animate({top:"-="+e+"px"}))},matchSlide:function(){for(var i,t=this,s=window.location.href,e=0;e<this.$listlength;e++){var n=t.$list.eq(e).find("a").attr("href");s.match(n)&&(t.$list.eq(e).find("img").css({cssText:"-webkit-filter: grayscale(0);"}),i=e)}this.$list.on("mouseout",function(){t.$list.eq(i).find("img").css("-webkit-filter","grayscale(0)")})},getData:function(){var i=this;window.location.hash;$.ajax({url:"/introduce/myprofile/assets/json/data.json",type:"GET",dataType:"JSON"}).done(function(t){i.data=t,i.showContents(i.data)}).fail(function(i){console.log("fail!!")})},showContents:function(i){$.each(i,function(){console.log(this)})}},Gallery.prototype={init:function(){this.getParamater(),this.bindEvent()},getParamater:function(){this.$window=$(window),this.$body=$("body"),this.$galleryWrap=$(".p-gallery__wrapper"),this.$galleryImages=this.$galleryWrap.find("img"),this.$galleryImageLink=this.$galleryWrap.find("a"),this.$modalWrap=$(".p-modal"),this.$modalImage=$(".p-modal__image"),this.$modalBtn=$(".p-modal__btn"),this.$modalClose=$(".p-modal__close")},bindEvent:function(){this.sortPhotos(),this.$window.on("load",this.showPhotos.bind(this)),this.$galleryImageLink.on("click",this.showModal.bind(this)),this.$modalClose.on("click",this.closeModal.bind(this)),this.$modalBtn.on("click",this.slideModal.bind(this))},sortPhotos:function(){for(var i=this,t=this.$galleryImages.length,s=[],e=0,n=0;n<t;n++){var h=n+1;this.$galleryImages.eq(n).each(function(){s.push(h)})}for(var a=t-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),l=s[a];s[a]=s[o],s[o]=l}this.$galleryImages.each(function(){i.$galleryImages.eq(e).attr({src:"/introduce/myprofile/assets/images/gallery/photo"+s[e]+".jpg"}),e++})},showPhotos:function(){this.$galleryImages.animate({opacity:1},1e3)},showModal:function(i){i.preventDefault();var t=$(i.currentTarget),s=t.find("img").attr("src");this.$body.addClass("modal-open"),this.$modalWrap.css({width:"100%",height:"100%"}).fadeIn(1e3),this.$modalImage.append('<img class="modal-img" src="'+s+'">')},closeModal:function(i){i.preventDefault();var t=this,s=this.$window.scrollTop();this.$modalWrap.fadeOut(1e3,function(){t.$modalImage.empty()}),this.$body.removeClass("modal-open"),$("html, body").prop({scrollTop:s})},slideModal:function(i){i.preventDefault();var t=$(i.currentTarget),s=t.data("direction");console.log(s)}},$(function(){var i=window.location.href,t=i.split("/");"detail"===t[6]&&(window.location.href="#background");new Leagle,new Top,new List,new Detail,new Gallery});