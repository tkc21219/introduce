"use strict";function Leagle(){this.$leagleForm=$(".l-form"),this.$leagleTxt=$(".l-text__area"),this.bind()}function Top(){this.$p1=$(".p1"),this.$p2=$(".p2"),this.$p3=$(".p3"),this.$pro=$(".prologue"),this.$link=$(".topLink"),this.bind()}function List(){this.$window=$(window),this.$hdrWrapper=$(".hdrWrapper"),this.$contWrapper=$(".d-cont__innerWrap"),this.$list=$(".d-cont__list li"),this.$listImg=$(".d-cont__list li").find("img"),this.$listHover=$("d-contList__hover"),this.bind()}function Detail(){this.$ul=$(".d-contMore__slideList"),this.$list=$(".d-contMore__slideList").find("li"),this.$listlength=this.$list.length,this.$slideBtn=$(".d-contMore__slideBtn"),this.$up=this.$slideBtn.find(".up"),this.$down=this.$slideBtn.find(".down"),this.$listHover=$("d-contList__hover"),this.bind()}function Gallery(){this.$gWrap=$(".g-cont__wrapper"),this.$gImgs=this.$gWrap.find("img"),this.$gOverLay=$(".g-overlay"),this.$gLayImg=$(".g-overlay__img"),this.$modalBtn=$(".g-overlay__btn"),this.$modalClose=$(".g-modal-close"),this.$modalImg=$(".modal-img"),this.init()}Leagle.prototype={bind:function(){this.$leagleForm.on("submit",this.changePage.bind(this))},changePage:function(){switch(this.val=this.$leagleTxt.val(),this.val){case"yoshinari takashi":case"Yoshinari Takashi":case"YOSHINARI TAKASHI":case"yoshinaritakashi":case"YoshinariTakashi":case"YOSHINARITAKASHI":case"takashi yoshinari":case"Takashi Yoshinari":case"TAKASHI YOSHINARI":case"takashiyoshinari":case"TakashiYoshinari":case"TAKASHIYOSHINARI":case"吉成敬":case"よしなりたかし":case"ヨシナリタカシ":case"吉成 敬":case"よしなり たかし":case"ヨシナリ タカシ":case"吉成　敬":case"よしなり　たかし":case"ヨシナリ　タカシ":window.location.href="./openning/index.html";break;case"":break;default:window.location.href="https://www.google.co.jp/#q="+this.val}return!1}},Top.prototype={bind:function(){$(window).on("load",this.prologue.bind(this)),setTimeout(this.firstShow.bind(this),2e3),setTimeout(this.secondShow.bind(this),4500),setTimeout(this.hidePro.bind(this),8e3)},prologue:function(){this.$pro.contents().each(function(){3===this.nodeType&&$(this).replaceWith($(this).text().replace(/(\S)/g,"<span>$1</span>"))})},firstShow:function(){this.$p1.css({opacity:1});for(var i=0;i<=this.$p1.children().length-1;i++)this.$p1.children("span:eq("+i+")").delay(100*i).fadeIn(300)},secondShow:function(){this.$p2.css({opacity:1});for(var i=0;i<=this.$p2.children().length-1;i++)this.$p2.children("span:eq("+i+")").delay(100*i).fadeIn(300)},hidePro:function(){this.$pro.fadeOut(1e3),this.showLink()},showLink:function(){this.$p3.css({display:"block"}).animate({opacity:1},1500),this.animeLink()},animeLink:function(){var i=this;setInterval(function(){i.$p3.animate({marginTop:"-5px"},700,"swing").animate({marginTop:"5px"},400,"swing")},800)}},List.prototype={bind:function(){this.setSize(),this.hoverAction(),this.$window.on("resize",this.setSize.bind(this)),this.$window.on("load",this.showList.bind(this))},setSize:function(){this.$width=this.$window.width(),this.$height=this.$window.height(),this.$listHeight=this.$height/3,this.$hdrWrapper.css("height",this.$height+"px"),this.$list.css("height",this.$listHeight+"px")},showList:function(){this.$hdrWrapper.fadeIn(700);for(var i=0;i<this.$list.length;i++)this.$list.delay(100).fadeIn(),this.$list.eq(i).animate({opacity:1,top:0},1e3)},hoverAction:function(){var i=this;this.$list.on({mouseenter:function(t){var s=i.$list.index(this);i.$list.eq(s).find("img").css("-webkit-filter","grayscale(0)"),7==s&&i.$list.eq(7).find("img").attr("src",i.$list.eq(7).find("img").attr("src").replace("_off","_on")),i.$list.eq(s).find("div").children(".d-hoverTtl__en").stop().fadeOut(600),i.$list.eq(s).find("div").children(".d-hoverTtl__ja").stop().fadeIn(600)},mouseleave:function(){var t=i.$list.index(this);i.$list.eq(t).find("img").css("-webkit-filter","grayscale(100%)"),7==t&&i.$list.eq(7).find("img").attr("src",i.$list.eq(7).find("img").attr("src").replace("_on","_off")),i.$list.eq(t).find("div").children(".d-hoverTtl__en").stop().fadeIn(600),i.$list.eq(t).find("div").children(".d-hoverTtl__ja").stop().fadeOut(600)}})}},Detail.prototype={bind:function(){this.setPos(),$(window).on("resize",this.setPos.bind(this)),this.hoverSlide(),this.$up.on("click",this.picSlideUp.bind(this)),this.$down.on("click",this.picSlideDown.bind(this)),this.matchSlide(),this.ajaxEach()},setPos:function(){this.$height=$(window).height(),this.$listHeight=this.$list.height(),this.$slideBtn=$(".d-contMore__slideBtn"),this.$down=this.$slideBtn.find(".down"),this.$downHeight=this.$down.height(),this.$down.css({top:this.$height-this.$downHeight+"px"})},hoverSlide:function(){var i=this;this.$list.on({mouseenter:function(t){var s=($(t.target).offsetParent(),i.$list.index(this));i.$list.eq(s).find("img").css("-webkit-filter","grayscale(0)"),i.$list.eq(s).find("div").children(".d-hoverTtl__en").stop().fadeOut(600),i.$list.eq(s).find("div").children(".d-hoverTtl__ja").stop().fadeIn(600)},mouseleave:function(t){var s=($(t.target).offsetParent(),i.$list.index(this));i.$list.eq(s).find("img").css("-webkit-filter","grayscale(100%)"),i.$list.eq(s).find("div").children(".d-hoverTtl__en").stop().fadeIn(600),i.$list.eq(s).find("div").children(".d-hoverTtl__ja").stop().fadeOut(600)}})},picSlideUp:function(){this.$height=$(window).height(),this.$listHeight=this.$list.height();var i=this.$list.offset().top-$(window).scrollTop();i<0&&(Math.abs(i)>this.$listHeight?this.$ul.stop().animate({top:"+="+this.$listHeight+"px"}):this.$ul.stop().animate({top:"+="+Math.abs(i)+"px"}))},picSlideDown:function(){this.$height=$(window).height(),this.$listHeight=this.$list.height(),this.$listWholeH=this.$list.length*this.$listHeight;var i=this.$ul.offset().top-$(window).scrollTop(),t=Math.abs(i)+this.$height,s=this.$listWholeH-t;t<this.$listWholeH&&(s>this.$listHeight?this.$ul.stop().animate({top:"-="+this.$listHeight+"px"}):this.$ul.stop().animate({top:"-="+s+"px"}))},matchSlide:function(){for(var i,t=this,s=window.location.href,e=0;e<t.$listlength;e++){var n=t.$list.eq(e).find("a").attr("href");s.match(n)&&(i=e,t.$list.eq(i).find("img").css({cssText:"-webkit-filter: grayscale(0);"}))}this.$list.on("mouseout",function(){t.$list.eq(i).find("img").css("-webkit-filter","grayscale(0)")})},ajaxEach:function(){var i=this,t=window.location.hash,s=["#background","#oversea","#skill","#sports","#game","#tv-movie","#book","#mygirl","#future"],e=window.location.href.split("/");e[e.length-1];this.$moreList=$(".d-contMore__list");for(var n=0;n<s.length;n++)if(t==s[n]){var o=n;$.ajax({url:"/assets/json/data.json",dataType:"json",data:{name:"contents"}}).done(function(t){var s=t.contents;$("title").text(s[o].title),i.$moreList.prepend(s[o].body)}).fail(function(i){console.log(o)})}window.onhashchange=function(){for(var t,e=window.location.hash,n=0;n<s.length;n++)e==s[n]&&(t=n,$.ajax({url:"/assets/json/data.json",dataType:"json",data:{name:"contents"}}).done(function(s){var e=s.contents;$("title").text(e[t].title),i.$moreList.empty().animate({scrollTop:0}).prepend(e[t].body),i.$list.find("img").css({cssText:"-webkit-filter: grayscale(100%);"}),i.$list.eq(t).find("img").css({cssText:"-webkit-filter: grayscale(0);"})}).fail(function(i){console.log(t)}));i.$list.on("mouseout",function(){i.$list.find("img").css("-webkit-filter","grayscale(100%)"),i.$list.eq(t).find("img").css("-webkit-filter","grayscale(0)")}),i.$list.eq(t).on("mouseout",function(){i.$list.eq(t).find("img").css("-webkit-filter","grayscale(0)")})}}},Gallery.prototype={init:function(){this.sortPic(),this.modalPic()},sortPic:function(){for(var i=this,t=[],s=0;s<48;s++){var e=s+1;i.$gImgs.eq(s).each(function(){t.push(e)})}var n=(t.sort(function(){return Math.random()-Math.random()}),0);this.$gImgs.each(function(){i.$gImgs.eq(n).attr({src:"/assets/images/gallery/photo"+t[n]+".jpg"}),n++}),$(window).on("load",function(){i.$gImgs.animate({opacity:1},1e3)})},modalPic:function(){var i,t,s,e=this;this.$height=$(window).height(),e.$gImgs.on("click",function(){s=$(window).scrollTop(),i=e.$gImgs.index(this),t=e.$gImgs.eq(i).attr("src"),e.$gWrap.css({position:"fixed",top:-1*s}),e.$gOverLay.css({width:"100%",height:e.$height}).fadeIn(1e3),e.$gLayImg.append('<img class="modal-img" src="'+t+'">')}),$(window).on("resize",function(){this.$height=$(window).height(),e.$gOverLay.css({width:"100%",height:this.$height})}),e.$modalClose.on("click",function(){function i(){e.$gLayImg.empty()}e.$gWrap.css({position:"initial"}),$("html, body").prop({scrollTop:s}),e.$gOverLay.fadeOut(700,i)}),e.$modalBtn.find("img").on("click",function(){var s=e.$modalBtn.find("img").index(this),n=e.$modalBtn.find("img").eq(s).attr("class");"g-next"===n&&47!==i?(i+=1,t=e.$gImgs.eq(i).attr("src"),e.$gLayImg.empty().append('<img class="modal-img" src="'+t+'">')):"g-prev"===n&&0!==i?(i-=1,t=e.$gImgs.eq(i).attr("src"),e.$gLayImg.empty().append('<img class="modal-img" src="'+t+'">')):"g-next"===n&&47===i?(i=0,t=e.$gImgs.eq(i).attr("src"),e.$gLayImg.empty().append('<img class="modal-img" src="'+t+'">')):"g-prev"===n&&0===i&&(i=47,t=e.$gImgs.eq(i).attr("src"),e.$gLayImg.empty().append('<img class="modal-img" src="'+t+'">'))})}},$(function(){var i=window.location.href,t=i.split("/");"detail"===t[5]&&(window.location.href="#background");new Leagle,new Top,new List,new Detail,new Gallery});